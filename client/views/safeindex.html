<!DOCTYPE html>
<html ng-app='flightpathApp'>
	<head>
		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<title>Flightpaths</title>
		<meta name="description" content="">
		<meta name="viewport" content="width=device-width, initial-scale=1">
	</head>
	<body>
		<div id="pathnamesMenu" ng-controller="pathnamesCtrl">
			<!--<h1>There are {{Pathnames.length}} pathnames.</h1>
			<p>selected item is : {{selectedPathname}}</p>-->
      		<select ng-model="selectedPathname" ng-change="populateFlightpath()" >
        			<option ng-repeat="pathname in Pathnames" value="{{pathname.name}}">{{pathname.name}}</option>
        			<option value="">Select one</option>
      		</select>
      		<button ng-click="createPathname()">Create Pathname</button>
		</div>
		<!-- Flightpaths view -->
		<div id="flightpathList" ng-controller="flightpathsCtrl">
			<h1>Choose Operation, duration and speed.</h1>
			<form >
				<li ng-repeat="flightpath in Flightpaths | orderBy:'stepNumber'">
					<!-- type="number" placeholder = {{flightpath.stepNumber}} ng-model="stepNumber"></input>
					<input type="text" value={{flightpath.Operation}} placeholder={{flightpath.Operation}}  ng-model="flightpath.Operation"></input>-->
					<select ng-model="operation.name" 
							ng-options="operation.name for operation in Operations">
							<option value="">{{flightpath.operName}}</option>
					</select>
					<input type="number" placeholder={{flightpath.duration}}  ng-model="flightpath.duration"></input>
					<input type="number" placeholder={{flightpath.speed}} ng-model="flightpath.speed"></input>
					<button ng-click="addFlightpath(flightpath.stepNumber,$index)">Add</button>
					<button ng-click="saveFlightpath(flightpath, operation.name)">Save</button>
					<button ng-click="removeFlightpath(flightpath._id, $index)">Delete</button>
				</li>
					<button ng-click="flyDrone()">Fly!</button>
			</form>
		</div>
		<script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.3.14/angular.min.js"></script>
		<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/angularjs/1.2.16/angular-resource.js"></script>
	    <script type="text/javascript" src="/js/app.js"></script>
    	<script type="text/javascript" src="/js/controllers/flightpaths-ctrl.js"></script>
    	<script type="text/javascript" src="/js/controllers/pathnames-ctrl.js"></script>
	</body>
</html>
